import 'package:flutter/material.dart';import 'package:camera/camera.dart';import '../model/user.dart';class CamHomePage extends StatefulWidget {  List<CameraDescription> cameras;  CamHomePage(this.cameras);  @override  _CamHomePageState createState() => _CamHomePageState();}class _CamHomePageState extends State<CamHomePage> {  List<User> userData = [    User(        imageLink:            'https://www.freepngimg.com/thumb/snapchat/73765-ghost-snapchat-snap-logo-ghosts-inc.-thumb.png')  ];  CameraController controller;  void initState() {    super.initState();    controller = CameraController(widget.cameras[1], ResolutionPreset.high);    controller.initialize().then((_) {      if (!mounted) {        return;      }      setState(() {});    });  }  @override  void dispose() {    controller?.dispose();    super.dispose();  }  bool isExpandedView = false;  @override  Widget build(BuildContext context) {    if (!controller.value.isInitialized) {      return CircularProgressIndicator();    }    return Container(      child: ClipRRect(        borderRadius: BorderRadius.circular(15.0),        child: Stack(          alignment: Alignment.bottomCenter,          children: [            Stack(              children: [                CameraPreview(controller),                SafeArea(                  child: Container(                      margin: EdgeInsets.symmetric(vertical: 10),                      child: Row(                        crossAxisAlignment: CrossAxisAlignment.start,                        mainAxisAlignment: MainAxisAlignment.spaceBetween,                        children: [                          Row(                            children: [                              circularAvtar(                                  context, '${userData[0].imageLink}'),                              circularButton(context, Icons.search),                            ],                          ),                          Row(                            crossAxisAlignment: CrossAxisAlignment.start,                            children: [                              circularButton(context, Icons.person_add),                              AnimatedContainer(                                height: isExpandedView ? 300.0 : 120.0,                                duration: Duration(seconds: 1),                                curve: Curves.fastOutSlowIn,                                width: 40,                                decoration: BoxDecoration(                                  color: Colors.black26,                                  borderRadius: BorderRadius.all(                                    Radius.circular(20),                                  ),                                ),                                child: Column(                                  mainAxisAlignment:                                      MainAxisAlignment.spaceBetween,                                  children: [                                    buttonsSide(context, Icons.repeat),                                    buttonsSide(context, Icons.flash_off),                                    //expended features                                    isExpandedView                                        ? Container(                                            child: Column(                                            mainAxisAlignment: MainAxisAlignment.spaceBetween,                                            children: [                                              Divider(                                                indent: 5,                                                endIndent: 5,                                                thickness: 1,                                                color: Colors.black87,                                              ),                                              buttonsSide(                                                  context, Icons.add_to_photos),                                              buttonsSide(context, Icons.timer),                                              buttonsSide(context,                                                  Icons.center_focus_strong),                                              buttonsSide(                                                  context, Icons.grid_on),                                            ],                                          ))                                        : Container(),                                    InkWell(                                        onTap: () {                                          setState(() {                                            isExpandedView = !isExpandedView;                                          });                                        },                                        child: buttonsSide(                                            context,                                            isExpandedView                                                ? Icons.keyboard_arrow_up                                                : Icons.keyboard_arrow_down)),                                  ],                                ),                              ),                              SizedBox(                                width: 10,                              )                            ],                          ),                        ],                      )),                ),              ],            ),            Row(              mainAxisSize: MainAxisSize.min,              mainAxisAlignment: MainAxisAlignment.center,              children: [                circularButton(context, Icons.filter),                SizedBox(                  width: 10,                ),                buildCambutton(),                SizedBox(                  width: 10,                ),                circularButton(context, Icons.insert_emoticon),              ],            ),          ],        ),      ),    );  }  Container buttonsSide(BuildContext context, icon) {    return Container(      margin: EdgeInsets.symmetric(vertical: 5),      child: Icon(        icon,        color: Colors.white,      ),    );  }  Widget buildCambutton() => Container(        height: 120,        width: 100,        decoration: BoxDecoration(            shape: BoxShape.circle,            border: Border.all(              color: Colors.white,              width: 5,            )),      );  Widget circularButton(BuildContext context, icon) => Container(        height: 40,        width: 60,        child: FlatButton(          onPressed: () {},          child: new Icon(            icon,            color: Colors.white,            size: 25.0,          ),          shape: new CircleBorder(),          color: Colors.black26,        ),      );  Widget circularAvtar(BuildContext context, imageLink) => Container(        height: 40,        width: 60,        child: FlatButton(          onPressed: () {},          child: Image.network(            imageLink,            fit: BoxFit.fill,          ),          shape: new CircleBorder(),          color: Colors.black26,        ),      );}